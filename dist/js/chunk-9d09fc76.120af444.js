(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d09fc76"],{"151e":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drug-detail-wrapper"},["null"!=e.medicine_id?a("div",{staticClass:"drug-detail-content-wrapper"},[a("p",{staticClass:"header"},[e._v("แก้ไขรายละเอียดยา")])]):e._e(),"null"==e.medicine_id?a("div",{staticClass:"drug-detail-content-wrapper"},[a("p",{staticClass:"header"},[e._v("เพิ่มรายการยาในระบบ")])]):e._e(),a("div",{staticClass:"medicine"},[a("div",{staticClass:"row"},[a("br"),a("div",{staticClass:"column-4",staticStyle:{"background-color":"#fff","text-align":"center","border-radius":"10px"}},[a("br"),""==e.imageUrl||null==e.imageUrl?a("img",{staticStyle:{"border-radius":"5px"},attrs:{width:"100%",src:i("cf05"),alt:"sm-logo"}}):e._e(),e.imageUrl?a("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.imageUrl,width:"100%"}}):e._e(),a("label",{staticClass:"custom-file-upload",attrs:{for:"file-upload"}},[e._v("\n                    choose image\n                    ")]),a("input",{ref:"image",attrs:{type:"file",id:"file-upload",accept:"image/*"},on:{change:e.onFilePicked}})]),a("div",{staticClass:"column-6",staticStyle:{"background-color":"#fff","text-align":"right","border-radius":"10px"}},[a("div",[a("label",{staticStyle:{"margin-right":"10px"},attrs:{for:"type"}},[e._v("  ประเภทของยา   ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"custom-select-option",staticStyle:{"margin-right":"10px"},attrs:{name:"type",id:"type"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.type=t.target.multiple?i:i[0]}}},[a("option",{attrs:{value:"1"}},[e._v("ยาแก้ปวด")]),a("option",{attrs:{value:"2"}},[e._v("ยาป้องกัน")])])]),a("div",[a("label",{staticStyle:{"margin-right":"10px"},attrs:{for:"name"}},[e._v("  ชื่อยา   ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",staticStyle:{width:"75%"},attrs:{type:"text",id:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",[a("label",{staticStyle:{"margin-right":"10px"},attrs:{for:"common_name"}},[e._v("  ชื่อสามัญ   ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.common_name,expression:"common_name"}],staticClass:"form-control",staticStyle:{width:"75%"},attrs:{type:"text",id:"common_name"},domProps:{value:e.common_name},on:{input:function(t){t.target.composing||(e.common_name=t.target.value)}}})]),a("div",[a("label",{staticStyle:{"margin-right":"10px"},attrs:{for:"trade_name"}},[e._v("  ชื่อทางการค้า   ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.trade_name,expression:"trade_name"}],staticClass:"form-control",staticStyle:{width:"75%"},attrs:{type:"text",id:"trade_name"},domProps:{value:e.trade_name},on:{input:function(t){t.target.composing||(e.trade_name=t.target.value)}}})]),a("div",[a("label",{staticStyle:{"margin-right":"10px"},attrs:{for:"drug_dose"}},[e._v("  ขนาด   ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.drug_dose,expression:"drug_dose"}],staticClass:"form-control",staticStyle:{width:"75%"},attrs:{type:"text",id:"drug_dose"},domProps:{value:e.drug_dose},on:{input:function(t){t.target.composing||(e.drug_dose=t.target.value)}}})]),a("div",[a("p",{staticStyle:{"text-align":"left"}},[e._v("การรับประทาน :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.eating,expression:"eating"}],staticClass:"form-control",staticStyle:{padding:"9px",width:"100%"},attrs:{name:"eating",id:"eating",cols:"50",rows:"3"},domProps:{value:e.eating},on:{input:function(t){t.target.composing||(e.eating=t.target.value)}}})]),a("div",[a("p",{staticStyle:{"text-align":"left"}},[e._v("ข้อมูลสำหรับไมเเกรน :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.drug_des,expression:"drug_des"}],staticClass:"form-control",staticStyle:{padding:"9px",width:"100%"},attrs:{name:"drug_des",id:"drug_des",cols:"50",rows:"6"},domProps:{value:e.drug_des},on:{input:function(t){t.target.composing||(e.drug_des=t.target.value)}}})]),a("div",[a("p",{staticStyle:{"text-align":"left"}},[e._v("การใช้ยา :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.drug_use,expression:"drug_use"}],staticClass:"form-control",staticStyle:{padding:"9px",width:"100%"},attrs:{name:"drug_use",id:"drug_use",cols:"50",rows:"2"},domProps:{value:e.drug_use},on:{input:function(t){t.target.composing||(e.drug_use=t.target.value)}}})]),a("div",[a("p",{staticStyle:{"text-align":"left"}},[e._v("ข้อควรระวังและข้อห้ามใช้ :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.notice,expression:"notice"}],staticClass:"form-control",staticStyle:{padding:"9px",width:"100%"},attrs:{name:"notice",id:"notice",cols:"50",rows:"6"},domProps:{value:e.notice},on:{input:function(t){t.target.composing||(e.notice=t.target.value)}}})]),a("div",[a("p",{staticStyle:{"text-align":"left"}},[e._v("ผลข้างเคียงที่เกิดขึ้นได้บ่อย :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.side_effect,expression:"side_effect"}],staticClass:"form-control",staticStyle:{padding:"9px",width:"100%"},attrs:{name:"side_effect",id:"side_effect",cols:"50",rows:"6"},domProps:{value:e.side_effect},on:{input:function(t){t.target.composing||(e.side_effect=t.target.value)}}})]),a("div",["null"!=e.medicine_id?a("button",{staticClass:"custom-file-upload",attrs:{type:"submit"},on:{click:e.updateMedicines}},[e._v("บันทึกข้อมูล")]):e._e(),"null"==e.medicine_id?a("button",{staticClass:"custom-file-upload",attrs:{type:"submit"},on:{click:e.addMedicines}},[e._v("บันทึกข้อมูล")]):e._e()])])])])])},n=[],r=(i("28a5"),i("7f7f"),i("3bc2")),s=i("c1df"),d=i.n(s),o={name:"medicine",components:{},data:function(){return{medicine_id:"",name:"",drug_dose:"",type:"",information_drug_id:"",common_name:"",trade_name:"",eating:"",drug_des:"",notice:"",side_effect:"",drug_use:"",drug_add:"",imageUrl:"",pathURL:"https://smapi.smilemigraine.com/",resultImage:[],preventive_med_image:"https://smapi.smilemigraine.com/public/img/defalt_drug_img/preventive_medicine_defult.jpg",pain_med_image:"https://smapi.smilemigraine.com/public/img/defalt_drug_img/pain_medicine_defult.jpg"}},beforeMount:function(){this.medicine_id=this.$route.params.medicineID},created:function(){"null"==this.$route.params.medicineID||this.getMedicines()},mounted:function(){},methods:{moment:d.a,getMedicines:function(){var e=this;r["a"].getMedicinesById(this.$route.params.medicineID).then((function(t){e.medicine_id=t[0]["medicine_id"],e.name=t[0]["name"],e.drug_dose=t[0]["dose"],e.type=t[0]["type"],e.information_drug_id=t[0]["information_drug_id"],e.common_name=t[0]["common_name"],e.trade_name=t[0]["trade_name"],e.eating=t[0]["eating"],e.drug_des=t[0]["drug_des"],e.drug_use=t[0]["drug_use"],e.notice=t[0]["notice"],e.side_effect=t[0]["side_effect"],e.drug_add=t[0]["drug_add"],e.imageUrl=e.checkfileImage(t[0]["drug_img"],t[0]["type"])}))},checkfileImage:function(e,t){return this.resultImage=e.split("/"),"public"!=this.resultImage[0]?e:1==t?this.pain_med_image:2==t?this.preventive_med_image:void 0},onFilePicked:function(e){var t=this,i=e.target.files;if(this.imageData=e.target.files[0],void 0!==i[0]){if(this.imageName=i[0].name,this.imageName.lastIndexOf(".")<=0)return;var a=new FileReader;a.readAsDataURL(i[0]),a.addEventListener("load",(function(){t.imageUrl=a.result,t.imageFile=i[0]}))}else this.imageName="",this.imageFile="",this.imageUrl=""},updateMedicines:function(){var e=this.medicine_id,t={name:this.name,dose:this.drug_dose,type:this.type,information_drug_id:this.information_drug_id,common_name:this.common_name,trade_name:this.trade_name,eating:this.eating,drug_des:this.drug_des,drug_use:this.drug_use,notice:this.notice,side_effect:this.side_effect,drug_add:this.drug_add,drug_img:this.imageUrl};r["a"].updateMedicines(e,t)},addMedicines:function(){var e={name:this.name,dose:this.dose,type:this.type,information_drug_id:this.information_drug_id,common_name:this.common_name,trade_name:this.trade_name,eating:this.eating,drug_des:this.drug_des,drug_use:this.drug_use,notice:this.notice,side_effect:this.side_effect,drug_add:this.drug_add,drug_img:this.imageUrl};r["a"].addMedicines(e),this.$router.back()}}},c=o,u=(i("baae"),i("2877")),l=Object(u["a"])(c,a,n,!1,null,"14d065dc",null);t["default"]=l.exports},"28a5":function(e,t,i){"use strict";var a=i("aae3"),n=i("cb7c"),r=i("ebd6"),s=i("0390"),d=i("9def"),o=i("5f1b"),c=i("520a"),u=i("79e5"),l=Math.min,m=[].push,g="split",p="length",f="lastIndex",_=4294967295,v=!u((function(){RegExp(_,"y")}));i("214f")("split",2,(function(e,t,i,u){var h;return h="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[p]||2!="ab"[g](/(?:ab)*/)[p]||4!="."[g](/(.?)(.?)/)[p]||"."[g](/()()/)[p]>1||""[g](/.?/)[p]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(n,e,t);var r,s,d,o=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,g=void 0===t?_:t>>>0,v=new RegExp(e.source,u+"g");while(r=c.call(v,n)){if(s=v[f],s>l&&(o.push(n.slice(l,r.index)),r[p]>1&&r.index<n[p]&&m.apply(o,r.slice(1)),d=r[0][p],l=s,o[p]>=g))break;v[f]===r.index&&v[f]++}return l===n[p]?!d&&v.test("")||o.push(""):o.push(n.slice(l)),o[p]>g?o.slice(0,g):o}:"0"[g](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,a){var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n,a):h.call(String(n),i,a)},function(e,t){var a=u(h,e,this,t,h!==i);if(a.done)return a.value;var c=n(e),m=String(this),g=r(c,RegExp),p=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),y=new g(v?c:"^(?:"+c.source+")",f),x=void 0===t?_:t>>>0;if(0===x)return[];if(0===m.length)return null===o(y,m)?[m]:[];var b=0,w=0,S=[];while(w<m.length){y.lastIndex=v?w:0;var C,M=o(y,v?m:m.slice(w));if(null===M||(C=l(d(y.lastIndex+(v?0:w)),m.length))===b)w=s(m,w,p);else{if(S.push(m.slice(b,w)),S.length===x)return S;for(var I=1;I<=M.length-1;I++)if(S.push(M[I]),S.length===x)return S;w=b=C}}return S.push(m.slice(b)),S}]}))},"3bc2":function(e,t,i){"use strict";var a=i("883d");t["a"]={getMedicinesByPageId:function(e){return a["b"].api.get("/medicines/page/".concat(e)).then((function(e){return e.data}))},getMedicinesPrev:function(e,t){return a["b"].api.get("/medicines/members/".concat(e,"/prev/").concat(t)).then((function(e){return e.data}))},getMedicinesById:function(e){return a["b"].api.get("/medicines/".concat(e)).then((function(e){return e.data}))},updateMedicines:function(e,t){return a["b"].api.patch("/medicines/".concat(e),t).then((function(e){return e.data}))},addMedicines:function(e){return a["b"].api.post("/medicines",e).then((function(e){return e.data}))}}},"7a78":function(e,t,i){},"7f7f":function(e,t,i){var a=i("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,s="name";s in n||i("9e1e")&&a(n,s,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},baae:function(e,t,i){"use strict";var a=i("7a78"),n=i.n(a);n.a},cf05:function(e,t,i){e.exports=i.p+"img/logo.e55f94a9.png"}}]);