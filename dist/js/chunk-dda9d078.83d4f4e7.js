(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dda9d078"],{"3bc2":function(t,e,n){"use strict";var i=n("883d");e["a"]={getMedicinesByPageId:function(t){return i["b"].api.get("/medicines/page/".concat(t)).then((function(t){return t.data}))},getMedicinesPrev:function(t,e){return i["b"].api.get("/medicines/members/".concat(t,"/prev/").concat(e)).then((function(t){return t.data}))},getMedicinesById:function(t){return i["b"].api.get("/medicines/".concat(t)).then((function(t){return t.data}))},updateMedicines:function(t,e){return i["b"].api.patch("/medicines/".concat(t),e).then((function(t){return t.data}))},addMedicines:function(t){return i["b"].api.post("/medicines",t).then((function(t){return t.data}))}}},4364:function(t,e,n){},"6ba4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"medicine-wrapper"},[n("div",{staticClass:"top-wrapper"},[n("div",{staticClass:"header"},[t._v("รายการยาในระบบ")]),n("div",{staticClass:"search-wrapper"},[n("button",{attrs:{type:"submit"},on:{click:function(e){return t.getAddMedicinePage()}}},[t._v("เพิ่มรายการยาในระบบ")])])]),n("table",{staticClass:"medicines-table"},[t._m(0),t.medicines.length>0?n("tbody",t._l(t.medicines,(function(e,i){return n("tr",{key:i},[n("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(100*(t.page-1)+i+1))]),e.name.length>30?n("td",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.name?e.name.substring(0,30)+"...":"-"))]):t._e(),e.name.length<30?n("td",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.name?e.name:"-"))]):t._e(),e.common_name.length>30?n("td",{staticClass:"button-like-comment-td",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.common_name?e.common_name.substring(0,30)+"...":"-"))]):t._e(),e.common_name.length<30?n("td",{staticClass:"button-like-comment-td",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.common_name?e.common_name:"-"))]):t._e(),1==e.type?n("td",{staticClass:"button-timming-td",staticStyle:{"text-align":"center"}},[t._v(" ยาแก้ปวด")]):t._e(),2==e.type?n("td",{staticClass:"button-timming-td",staticStyle:{"text-align":"center"}},[t._v(" ยาป้องกัน")]):t._e(),n("td",{staticClass:"button-timming-td",staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.drug_add?t.getTotalTimeMedicine(e.drug_add):"-"))]),n("td",{staticClass:"button-td",staticStyle:{"text-align":"center"}},[n("button",{staticClass:"warning-community",on:{click:function(n){return t.$router.push("/medicines/"+e.medicine_id)}}},[t._v("\n                    แก้ไข \n                ")])])])})),0):t._e()]),n("paginate",{attrs:{"page-count":t.totalPage,"prev-text":"ก่อนหน้า","next-text":"ต่อไป","container-class":"pagination","page-class":"pagination-page","prev-class":"prev-page","next-class":"next-page","active-class":"active-page","click-handler":t.changePage,"force-page":t.page}})],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticStyle:{width:"5%"}},[t._v("No.")]),n("th",{staticStyle:{width:"23.75%"}},[t._v("ชื่อ")]),n("th",{staticStyle:{width:"23.75%"}},[t._v("ชื่อสามัญ")]),n("th",{staticStyle:{width:"23.75%"}},[t._v("ประเภทยา")]),n("th",{staticStyle:{width:"23.75%"}},[t._v("แก้ไขเมื่อวันที่")]),n("th",{staticStyle:{width:"5‬%"}})])])}],c=n("3bc2"),s=n("c1df"),r=n.n(s),d={created:function(){this.getMedicines()},data:function(){return{medicines:[],totalPage:1,searchType:"name",searchText:""}},computed:{page:function(){return this.$route.query.page?this.$route.query.page:1}},methods:{moment:r.a,getTotalTimeMedicine:function(t){return r()(t,"YYYY-MM-DD HH:mm:ss").fromNow()},getMedicines:function(){var t=this;c["a"].getMedicinesByPageId(this.page).then((function(e){t.medicines=e.medicines,t.totalPage=parseInt(e.summary.total)}))},changePage:function(t){this.$router.push("/medicines?page=".concat(t)),this.getMedicines()},getAddMedicinePage:function(){this.$router.push("/medicines/".concat(null))}}},o=d,u=(n("897f"),n("2877")),l=Object(u["a"])(o,i,a,!1,null,null,null);e["default"]=l.exports},"897f":function(t,e,n){"use strict";var i=n("4364"),a=n.n(i);a.a}}]);